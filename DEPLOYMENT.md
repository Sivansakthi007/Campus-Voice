# Campus Voice Deployment Guide

## Quick Deploy to Render.com

### Prerequisites
1. GitHub account
2. Render.com account (free tier available)
3. OpenAI API key for AI features

### Deployment Steps

#### 1. Push Code to GitHub
```bash
git init
git add .
git commit -m "Initial commit for deployment"
git remote add origin <YOUR_GITHUB_REPO_URL>
git push -u origin main
```

#### 2. Deploy on Render
1. Go to [Render Dashboard](https://dashboard.render.com/)
2. Click "New" â†’ "Blueprint"
3. Connect your GitHub repository
4. Render will automatically detect `render.yaml` and create all services

#### 3. Configure Environment Variables
After deployment starts, set these environment variables in Render dashboard:

**Backend Service:**
- `MYSQL_PASSWORD`: Copy from the generated database password
- `DATABASE_URL`: `mysql+aiomysql://campusvoice:<PASSWORD>@<DB_HOST>/campus_voice_db`
- `LLM_KEY`: Your OpenAI API key
- `JWT_SECRET`: (auto-generated by Render)

**Frontend Service:**
- `BACKEND_URL`: Will be auto-set to backend service URL
- `NODE_ENV`: `production` (already set in render.yaml)

#### 4. Access Your Application
Once deployment completes, Render will provide a public URL for the frontend service:
```
https://campus-voice-frontend.onrender.com
```

This is your ONE final deployment URL!

### Alternative: Manual Deployment (No GitHub)

If you prefer not to use GitHub:

1. Use Render's manual Docker deployment
2. Upload Dockerfiles directly
3. Configure services manually in the Render dashboard

### Verification Checklist
- [ ] Frontend loads at public URL
- [ ] Can register new users
- [ ] Can login with credentials
- [ ] Can submit complaints
- [ ] AI analysis works on complaints
- [ ] All role-based features work (student, admin, HOD, staff, principal)

### Troubleshooting
- **Database Connection Error**: Verify `DATABASE_URL` matches database credentials
- **CORS Error**: Check `CORS_ORIGINS` in backend env vars
- **AI Features Not Working**: Verify `LLM_KEY` is set correctly
- **502 Bad Gateway**: Check backend service logs in Render dashboard
